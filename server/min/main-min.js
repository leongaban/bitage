var express=require("express"),app=express(),port=process.env.PORT||9876,mongoose=require("mongoose"),passport=require("passport"),flash=require("connect-flash"),hbs=require("handlebars"),cons=require("consolidate"),bitcoin=require("bitcoinjs-lib"),moment=require("moment"),morgan=require("morgan"),cookieParser=require("cookie-parser"),bodyParser=require("body-parser"),session=require("express-session"),configDB=require("./config/database.js"),router=express.Router();mongoose.connect("mongodb://users:leonardo2016!@kahana.mongohq.com:10016/sandbox"),app.use(express["static"](__dirname+"/client")),app.use("/client/bower_components",express["static"](__dirname+"/client/bower_components")),require("./server/config/passport")(passport),app.use(morgan("dev")),app.use(cookieParser()),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!0})),app.set("view engine","ejs"),app.engine("hbs",cons.handlebars),app.use(session({secret:"itisalwayssunnyinphilly@21!6"})),app.use(passport.initialize()),app.use(passport.session()),app.use(flash()),app.use(express["static"](__dirname,"/client/website")),app.use(express["static"](__dirname+"/client/dashboard")),require("./server/routes/routes.js")(app,passport);var dashboard=express.Router();app.use("/dashboard",dashboard),dashboard.get("/",function(e,s){s.sendfile("./dashboard/index.html")}),app.listen(port),console.log("Server running at "+port);